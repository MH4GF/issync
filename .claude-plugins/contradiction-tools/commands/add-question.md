# Open Question追加オペレーション

このコマンドは、plan.mdのOpen Questionsセクションに新しい質問を追加するためのガイド付きツールです。優先度を評価し、最適な配置位置を提案します。

## 実行フロー

### ステップ1: 質問内容の入力

まず、追加したい質問の内容を確認します：

**質問のタイトル（簡潔に）:**
[ユーザーに質問のタイトルを尋ねる]

**詳細説明:**
以下の情報を含めて詳細を記述してください：
- 背景（なぜこの質問が生まれたか）
- 検討事項（何を考慮すべきか）
- 選択肢（複数の選択肢がある場合）

[ユーザーに詳細説明を尋ねる]

### ステップ2: 既存のOpen Questionsを確認

plan.mdのOpen Questionsセクションを読み取り、現在の質問リストを確認します。

### ステップ3: 優先度評価

以下の基準で優先度を評価します：

**最優先（ブロッカー）:**
- 他の質問の前提となる基盤的な決定
- 現在のステートで進行を妨げている問題
- アーキテクチャの根本に関わる選択

**高優先度:**
- before-implement までに解決必須
- 実装方針に直接影響する
- 複数のタスクに影響を与える

**中優先度:**
- before-architecture-decision で解決推奨
- 品質・保守性に関わる
- 一部のタスクに影響を与える

**低優先度:**
- 将来的な改善案
- Follow-up Issues として別途対応可能
- 今回のスコープに影響が少ない

### ステップ4: 配置位置の提案

既存の質問を分析し、以下の情報を含めて配置位置を提案します：

```markdown
## 提案内容

**優先度評価:** [最優先/高/中/低]

**評価理由:**
- [理由1]
- [理由2]

**配置位置:** [既存のQXの前 / 既存のQYの後 / 先頭 / 末尾]

**配置理由:**
- [既存質問との関係性]
- [依存関係の考慮]

**新しい質問番号:** Q[N]

**プレビュー:**
**Q[N]: [質問のタイトル]**
- [詳細説明]
```

### ステップ5: ユーザー確認

上記の提案内容をユーザーに提示し、承認を待ちます。

**確認事項:**
- 優先度評価は適切ですか？
- 配置位置は妥当ですか？
- 調整が必要な点はありますか？

### ステップ6: Open Questionsセクションを更新

承認後、以下の手順で更新します：

1. plan.mdのOpen Questionsセクションを読み取る
2. 提案した位置に新しい質問を挿入
3. 質問番号を自動採番（既存のQ5, Q6... に続く形）
4. plan.mdを保存

### ステップ7: issync pushで同期

最後に、変更をGitHub Issueに同期します：

```bash
issync push
```

## 完了条件

- [ ] 新しい質問がOpen Questionsセクションに追加されている
- [ ] 質問番号が適切に採番されている
- [ ] 優先度順（最優先が最上位）に並んでいる
- [ ] issync pushが完了している

## 注意事項

- Open Questionsはフラット構造です（カテゴリなし）
- 最優先の質問が一番上に配置されます
- 質問番号は既存の番号と重複しないよう自動採番します
- 解決済みの質問は、このコマンドでは追加できません（`/resolve-question`を使用）
