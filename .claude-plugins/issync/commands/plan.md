---
description: ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹èª¿æŸ»â†’å—ã‘å…¥ã‚Œæ¡ä»¶æ˜ç¢ºåŒ–â†’Open Questionså°å‡ºã§é€²æ—ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆ
---

# /issync:plan

é€²æ—ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ`.issync/docs/plan-{ç•ªå·}-{slug}.md`ï¼‰ã‚’ä½œæˆã€‚9ã‚¹ãƒ†ãƒƒãƒ—ï¼š

1. å‰æç¢ºèª & issync init & Stageè¨­å®šï¼ˆIn Progressï¼‰
2. Issueå†…å®¹ç¢ºèª
3. **ã‚¿ã‚¹ã‚¯ç¨®åˆ¥åˆ¤å®š**
4. ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹èª¿æŸ»
5. **å—ã‘å…¥ã‚Œæ¡ä»¶ã®æ˜ç¢ºåŒ–**ï¼ˆç¨®åˆ¥ã«å¿œã˜ãŸæ¤œè¨¼æˆ¦ç•¥ï¼‰
6. **Open Questionsç²¾æŸ»**
7. åŸºæœ¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¨˜å…¥
8. æˆæœç‰©ã‚’ã‚³ãƒŸãƒƒãƒˆ & issync push & Stageæ›´æ–°ï¼ˆTo Reviewï¼‰
9. Status/Stageå¤‰æ›´ & ãƒ©ãƒ™ãƒ«ä»˜ä¸ï¼ˆimplement, To Startï¼‰

## å‰ææ¡ä»¶

- GitHub Issueä½œæˆæ¸ˆã¿
- `ISSYNC_GITHUB_TOKEN`è¨­å®šæ¸ˆã¿

## ã‚¹ãƒ†ãƒƒãƒ—è©³ç´°

### 1. å‰æç¢ºèª & issync init & Stageè¨­å®š

```bash
issync status <Issue URL>
```
- è¨­å®šã‚ã‚Š â†’ ã‚¹ãƒ†ãƒƒãƒ—2ã¸
- è¨­å®šãªã— â†’ `issync init <Issue URL> --file .issync/docs/plan-{ç•ªå·}-{slug}.md`

Projectsé€£æºæ™‚: `issync projects set-stage "$ISSUE_URL" "in_progress"`

### 2. Issueå†…å®¹ç¢ºèª

Issueå†…å®¹ã‚’ç†è§£ã€ä¸æ˜ç‚¹ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèªã€‚

### 3. ã‚¿ã‚¹ã‚¯ç¨®åˆ¥åˆ¤å®š

Issueå†…å®¹ã‹ã‚‰ç¨®åˆ¥ã‚’åˆ¤å®šã—ã€æ¤œè¨¼æˆ¦ç•¥ã‚’æ±ºå®šï¼š

| ç¨®åˆ¥ | ä¾‹ | æ¤œè¨¼æˆ¦ç•¥ |
|------|-----|----------|
| **code** | æ©Ÿèƒ½å®Ÿè£…ã€ãƒã‚°ä¿®æ­£ã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ | ã‚¹ã‚±ãƒ«ãƒˆãƒ³ãƒ†ã‚¹ãƒˆï¼ˆtest.todoï¼‰ |
| **config** | linterã€CIã€ãƒ“ãƒ«ãƒ‰è¨­å®š | æ¤œè¨¼ã‚³ãƒãƒ³ãƒ‰ + æœŸå¾…çµæœ |
| **infra** | terraformã€k8sã€Docker | planå‡ºåŠ› + æ‰‹å‹•æ¤œè¨¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ |
| **docs** | READMEã€ADRã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ãƒªã‚¹ãƒˆ |

**åˆ¤å®šåŸºæº–**: ä¸»ãªæˆæœç‰©ã¯ä½•ã‹ï¼Ÿ
- `.ts`, `.js`, `.py` ç­‰ã®ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰ â†’ code
- `.json`, `.yml`, `.toml` ç­‰ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« â†’ config
- `.tf`, `Dockerfile`, `k8s/*.yaml` â†’ infra
- `.md` ç­‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ â†’ docs

**è¤‡åˆã‚¿ã‚¹ã‚¯ã®å ´åˆ**: ä¸»è¦ãªæˆæœç‰©ã®ç¨®åˆ¥ã‚’é¸æŠã€‚

### 4. ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹èª¿æŸ»ï¼ˆCRITICALï¼‰

**è¤‡é›‘åº¦åˆ¤å®š**:
| è¤‡é›‘åº¦ | Agentæ•° | èª¿æŸ»å†…å®¹ |
|--------|---------|----------|
| Simple | 1 | é¡ä¼¼æ©Ÿèƒ½ãƒ‘ã‚¿ãƒ¼ãƒ³ |
| Moderate | 2 | + ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ |
| Complex | 3 | + æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ |

å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª/æ–°æŠ€è¡“æ¡ç”¨æ™‚ã¯ Agent 4ï¼ˆå¤–éƒ¨èª¿æŸ»ï¼‰è¿½åŠ ã€‚

**å®Ÿè¡Œ**: å˜ä¸€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§è¤‡æ•°Task toolå‘¼ã³å‡ºã—ã€‚å„Agentã¯ `.claude-plugins/issync/agents/codebase-explorer.md` ã«å¾“ã†ã€‚

**é›†ç´„**: å…¨Agentã®ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿ã€Discoveries & Insightsã«è¨˜éŒ²ã€‚

### 5. å—ã‘å…¥ã‚Œæ¡ä»¶ã®æ˜ç¢ºåŒ–ï¼ˆç¨®åˆ¥åˆ¥ï¼‰

ã‚¹ãƒ†ãƒƒãƒ—3ã§åˆ¤å®šã—ãŸç¨®åˆ¥ã«å¿œã˜ãŸæ‰‹æ³•ã‚’é¸æŠã€‚

#### code â†’ ã‚¹ã‚±ãƒ«ãƒˆãƒ³ãƒ†ã‚¹ãƒˆä½œæˆ

å—ã‘å…¥ã‚Œæ¡ä»¶ã‚’`test.todo()`ã§å®šç¾©ã€‚ãƒ†ã‚¹ãƒˆãŒé€šã‚Œã°å®Ÿè£…å®Œäº†ã®æ˜ç¢ºãªåŸºæº–ã€‚

**é…ç½®**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ—¢å­˜ãƒ†ã‚¹ãƒˆæ§‹é€ ãƒ»å‘½åè¦å‰‡ã«å¾“ã†

```typescript
describe("watch command", () => {
  describe("ãƒªãƒ¢ãƒ¼ãƒˆå¤‰æ›´æ¤œçŸ¥", () => {
    test.todo("ãƒªãƒ¢ãƒ¼ãƒˆå¤‰æ›´æ™‚ã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°");
    test.todo("ãƒ­ãƒ¼ã‚«ãƒ«æœªä¿å­˜å¤‰æ›´æ™‚ã€conflictå ±å‘Š");
  });
});
```

#### config â†’ æ¤œè¨¼ã‚³ãƒãƒ³ãƒ‰å®šç¾©

è¨­å®šå¤‰æ›´ã®åŠ¹æœã‚’ç¢ºèªã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¨æœŸå¾…çµæœã‚’å®šç¾©ã€‚

```markdown
## Acceptance Criteria

| æ¤œè¨¼ã‚³ãƒãƒ³ãƒ‰ | æœŸå¾…çµæœ |
|-------------|----------|
| `bun run lint` | ã‚¨ãƒ©ãƒ¼0ä»¶ |
| `bun run lint --fix` | è‡ªå‹•ä¿®æ­£ãŒé©ç”¨ã•ã‚Œã‚‹ |
| `git diff` | æ„å›³ã—ãŸè¨­å®šã®ã¿å¤‰æ›´ |
```

#### infra â†’ æ‰‹å‹•æ¤œè¨¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

è‡ªå‹•ãƒ†ã‚¹ãƒˆä¸å¯ã®ãŸã‚ã€æ¤œè¨¼æ‰‹é †ã‚’æ˜æ–‡åŒ–ã€‚

```markdown
## Acceptance Criteria

**Planå‡ºåŠ›ç¢ºèª**:
- [ ] `terraform plan` ã§æ„å›³ã—ãŸå¤‰æ›´ã®ã¿è¡¨ç¤º
- [ ] destroyå¯¾è±¡ãŒãªã„ã“ã¨

**é©ç”¨å¾Œç¢ºèª**:
- [ ] ãƒªã‚½ãƒ¼ã‚¹ãŒã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèªã§ãã‚‹
- [ ] ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰æ¥ç¶šã§ãã‚‹
```

#### docs â†’ ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹

```markdown
## Acceptance Criteria

- [ ] å¯¾è±¡èª­è€…ãŒæ˜ç¢º
- [ ] æ‰‹é †é€šã‚Šã«å®Ÿè¡Œå¯èƒ½
- [ ] ã‚³ãƒ¼ãƒ‰ä¾‹ãƒ»ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆãŒæœ€æ–°
```

### 6. Open Questionsç²¾æŸ»

å—ã‘å…¥ã‚Œæ¡ä»¶ã‚’å®šç¾©ã™ã‚‹éç¨‹ã§æµ®ã‹ã‚“ã ç–‘å•ã‚’æ•´ç†ã€‚

**åˆ¤æ–­ãƒ•ãƒ­ãƒ¼**:
```
æ¡ä»¶ãŒæ˜ç¢ºã«æ›¸ã‘ãŸ â†’ è¨˜è¼‰ã—ãªã„
æ›¸ã‘ãªã‹ã£ãŸç†ç”±:
  - ä»•æ§˜ãŒæ›–æ˜§ â†’ Open Question
  - è¤‡æ•°ã®æ–¹æ³• â†’ Open Question
  - å¤–éƒ¨ä¾å­˜ä¸æ˜ â†’ Open Question
```

**ç›®æ¨™**: 5-10é …ç›®

**ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**:
```markdown
**Q1: [è³ªå•]**
[æ¡ä»¶ã‚’æ›¸ã‘ãªã‹ã£ãŸç†ç”±]

**æ¤œè¨æ¡ˆ:**
- **[A]ï¼ˆæ¨å¥¨ ğŸŸ¢ï¼‰**: [èª¬æ˜]
- **[B]**: [èª¬æ˜] / ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•: [åˆ¶ç´„]
```

è‡ªä¿¡åº¦: ğŸŸ¢é«˜ï¼ˆåŒä¸€ãƒ‘ã‚¿ãƒ¼ãƒ³ç¢ºèªæ¸ˆï¼‰/ ğŸŸ¡ä¸­ï¼ˆé¡ä¼¼ã‚ã‚Šï¼‰/ ğŸ”´ä½ï¼ˆå‰ä¾‹ãªã—â†’âš ï¸æ¤œè¨¼é …ç›®ä½µè¨˜ï¼‰

### 7. åŸºæœ¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¨˜å…¥

- Purpose/Overview
- Context & Direction
- Validation & Acceptance Criteria: **ã‚¹ãƒ†ãƒƒãƒ—5ã®æˆæœç‰©ã‚’å‚ç…§**

```markdown
## Validation & Acceptance Criteria

<!-- code ã®å ´åˆ -->
**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `packages/cli/src/commands/watch/watch.test.ts`
**æ¤œè¨¼ã‚³ãƒãƒ³ãƒ‰**: `bun test packages/cli/src/commands/watch/watch.test.ts`
å…¨ãƒ†ã‚¹ãƒˆãŒãƒ‘ã‚¹ã™ã‚Œã°å®Ÿè£…å®Œäº†ã€‚

<!-- config ã®å ´åˆ -->
ä¸Šè¨˜ã®æ¤œè¨¼ã‚³ãƒãƒ³ãƒ‰è¡¨ã‚’å®Ÿè¡Œã—ã€å…¨ã¦æœŸå¾…çµæœã‚’æº€ãŸã›ã°å®Œäº†ã€‚

<!-- infra ã®å ´åˆ -->
ä¸Šè¨˜ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’å…¨ã¦ç¢ºèªã™ã‚Œã°å®Œäº†ã€‚

<!-- docs ã®å ´åˆ -->
ä¸Šè¨˜ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ã‚’å…¨ã¦æº€ãŸã›ã°å®Œäº†ã€‚
```

### 8. æˆæœç‰©ã‚’ã‚³ãƒŸãƒƒãƒˆ & issync push & Stageæ›´æ–°

```bash
# code ã®å ´åˆ
git add <ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«>
git commit -m "test: add skeleton tests for <æ©Ÿèƒ½å>"

# config/infra/docs ã®å ´åˆï¼ˆé€²æ—ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã¿ï¼‰
# ã‚³ãƒŸãƒƒãƒˆä¸è¦ã€issync pushã®ã¿

issync push
issync projects set-stage "$ISSUE_URL" "to_review"  # Projectsé€£æºæ™‚
```

### 9. Status/Stageå¤‰æ›´ & ãƒ©ãƒ™ãƒ«ä»˜ä¸

```bash
issync projects set-status "$ISSUE_URL" "implement"
issync projects set-stage "$ISSUE_URL" "to_start"
gh issue edit $ISSUE_NUMBER --add-label "issync:implement"
```

## å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

```markdown
## Plan Phase Complete

**Progress Document**: {issue_url}
**Task Type**: {code|config|infra|docs}

### Acceptance Criteria
<!-- ç¨®åˆ¥ã«å¿œã˜ãŸå†…å®¹ -->

<!-- code -->
- **Test File**: `{ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹}`
- **Test Cases**: {N}ä»¶
- **Commit**: `{ãƒãƒƒã‚·ãƒ¥}`

<!-- config -->
- **Verification Commands**: {N}ä»¶å®šç¾©æ¸ˆã¿

<!-- infra -->
- **Checklist Items**: {N}ä»¶å®šç¾©æ¸ˆã¿

<!-- docs -->
- **Review Points**: {N}ä»¶å®šç¾©æ¸ˆã¿

### Key Discoveries
- {æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã€æ—¢å­˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã€é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«}
- {å‚è€ƒå®Ÿè£…ã‚„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£}

### Open Questions ({N}ä»¶)
{ä¸»è¦ãƒ†ãƒ¼ãƒè¦ç´„}

### Next Steps
1. Review Acceptance Criteria and Open Questions
2. Run `/issync:align-spec` to finalize
3. Begin `/issync:implement`

**Status**: plan â†’ implement (Stage: To Start)
```
